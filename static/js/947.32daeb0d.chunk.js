"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[947],{947:function(e,n,t){t.r(n);var r=t(439),c=t(791),i=t(689),o=t(87),s=t(174),a=t(71),h=t(184);n.default=function(){var e,n,t=(0,c.useState)({}),d=(0,r.Z)(t,2),u=d[0],l=d[1],f=(0,c.useState)(""),j=(0,r.Z)(f,2),v=j[0],m=j[1],x=(0,c.useState)(!1),w=(0,r.Z)(x,2),g=w[0],p=w[1],k=(0,i.UO)().movieId,I=(0,i.TH)(),_=(0,c.useRef)(null!==(e=null===(n=I.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies");(0,c.useEffect)((function(){p(!1),(0,s.gc)(k).then((function(e){var n=e.poster_path,t=e.title,r=e.release_date,c=e.vote_average,i=e.overview,o=e.genres,s={poster:n,title:t,date:r.slice(0,4),score:Math.round(100*c)/10,overview:i,genres:"".concat(o.map((function(e){return e.name})).join(", "))};l(s),p(!0)})).catch((function(e){return m(e.message)}))}),[k]);var N=u.title,b=u.poster,Y=u.date,E=u.score,J=u.overview,U=u.genres,C="https://image.tmdb.org/t/p/w300_and_h450_bestv2/".concat(b);return(0,h.jsx)(h.Fragment,{children:!v&&g?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.rU,{to:_.current,className:"link-back",children:[" ",(0,h.jsx)(a.BMs,{})," Go Back"]}),(0,h.jsxs)("div",{className:"info",children:[(0,h.jsx)("img",{src:C,alt:N}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{children:[N," (",Y,")"]}),(0,h.jsxs)("p",{children:["User score: ",E,"%"]}),(0,h.jsxs)("dl",{children:[(0,h.jsx)("dt",{children:"Overview"}),(0,h.jsx)("dd",{children:J})]}),(0,h.jsxs)("dl",{children:[(0,h.jsx)("dt",{children:"Genres"}),(0,h.jsx)("dd",{children:U})]})]})]}),(0,h.jsxs)("div",{className:"additional",children:[(0,h.jsx)("h2",{children:"Additional information"}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"reviews",children:"Review"})})]})]}),(0,h.jsx)(c.Suspense,{fallback:(0,h.jsx)("div",{children:"Loading..."}),children:(0,h.jsx)(i.j3,{})})]}):(0,h.jsx)("p",{children:v})})}},174:function(e,n,t){t.d(n,{CA:function(){return u},Df:function(){return s},YR:function(){return d},gc:function(){return a},gk:function(){return h}});var r="https://api.themoviedb.org/3/",c="?language=en-US",i="\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :-( \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437!",o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTg2YTIxZDVmYWQ2YjQ4NDQyMjgwNTVhMzRhNzFhNCIsInN1YiI6IjY1Yzc1YjdjOThmMWYxMDE2MmQ2OWEwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.L_8rlg8ILsxFKeMljqJDpIOjbcsP-UICwiRRB2lFeHY"}},s=function(){return fetch("".concat(r,"trending/movie/day").concat(c),o).then((function(e){if(e.ok)return e.json();throw new Error(i)}))},a=function(e){return fetch("".concat(r,"movie/").concat(e).concat(c),o).then((function(e){if(e.ok)return e.json();throw new Error(i)}))},h=function(e){return fetch("".concat(r,"movie/").concat(e,"/credits").concat(c),o).then((function(e){if(e.ok)return e.json();throw new Error(i)}))},d=function(e){return fetch("".concat(r,"movie/").concat(e,"/reviews").concat(c),o).then((function(e){if(e.ok)return e.json();throw new Error(i)}))},u=function(e){return fetch("".concat(r,"search/movie?query=").concat(e,"&include_adult=false&language=en-US&page=1"),o).then((function(e){if(e.ok)return e.json();throw new Error(i)}))}}}]);
//# sourceMappingURL=947.32daeb0d.chunk.js.map